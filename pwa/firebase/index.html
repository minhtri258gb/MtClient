
<!doctype html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PWA + Firebase Push (Vanilla JS)</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.webmanifest">
    <meta name="theme-color" content="#228be6">

    <!-- iOS PWA -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="./icons/icon-192.png" />

    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 24px; }
      .card { max-width: 720px; margin: 0 auto; padding: 24px; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); }
      h1 { margin-top: 0; }
      code, pre { background: #f5f7fb; padding: 2px 6px; border-radius: 6px; }
      button { padding: 10px 16px; border: 0; border-radius: 12px; cursor: pointer; }
      .primary { background: #228be6; color: white; }
      .muted { opacity: 0.8; }
      .row { display: flex; gap: 12px; flex-wrap: wrap; align-items: center; }
      .log { background: #0b1220; color: #e6edf3; padding: 12px; border-radius: 12px; min-height: 120px; white-space: pre-wrap; }
      .token { word-break: break-all; }
    </style>
  </head>
  <body>
    <div class="card">
      <h1>üì£ PWA + Firebase Cloud Messaging (Vanilla JS)</h1>
      <p>Demo t·ªëi gi·∫£n ƒë·ªÉ nh·∫≠n th√¥ng b√°o ƒë·∫©y tr√™n web. H√£y m·ªü DevTools (Console) ƒë·ªÉ xem log chi ti·∫øt.</p>

      <ol>
        <li>Ch·ªânh <code>firebaseConfig</code> v√† <code>vapidKey</code> trong <code>app.js</code>.</li>
        <li>Tri·ªÉn khai (serve) b·∫±ng HTTPS (ho·∫∑c <code>http://localhost</code> khi dev).</li>
        <li>Nh·∫•n n√∫t c·∫•p quy·ªÅn v√† l·∫•y token.</li>
        <li>G·ª≠i th·ª≠ th√¥ng b√°o t·ª´ Firebase Console/Server v·ªõi token ƒë√≥.</li>
      </ol>

      <div class="row">
        <button id="btn-permission" class="primary">1) Xin quy·ªÅn th√¥ng b√°o</button>
        <button id="btn-token">2) L·∫•y FCM token</button>
        <button id="btn-test">3) Gi·∫£ l·∫≠p th√¥ng b√°o foreground</button>
      </div>

      <h3>FCM Token</h3>
      <div id="token" class="token muted">(ch∆∞a l·∫•y)</div>

      <h3>Log</h3>
      <div id="log" class="log"></div>
    </div>

    <!-- App logic -->
    <script type="module" src="./app.js"></script>
  </body>
</html>
